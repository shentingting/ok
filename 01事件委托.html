<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<article>
			<h1>我</h1>
			<ul>
				<li>xxx</li>
				<li>dddd</li>
				<li>qqqq</li>
				<li>tttt</li>
				<li>
					<a>我是最里面的东西1111111</a>
					<a>我是最里面的东西22222222</a>
				</li>
			</ul>
		</article>
		<script>
			/**
			 * 事件委托可以认为是事件绑定的一种编程技巧，
			 * 浏览器原生的js语法上是没有提供该功能的。
			 * 
			 * 事件委托的本质是：本来要给一个子元素绑定事件，
			 * 结果绑定在了祖级元素上，然后当祖级触发该事件时，
			 * 增加一个过滤条件，判断祖级在接收到该事件的冒泡阶段中，
			 * 有没有经过指定子元素，经过了再执行特定逻辑的代码。
			 * 
			 * 这个特定逻辑的代码，就可以认为是事件委托执行的。
			 * */
			
			// 假设发了一个ajax请求，根据数据动态创建a元素，添加到指定容器中
			setTimeout(function() {
				var a = document.createElement('a');
				a.innerHTML = '我是动态创建的aaaaaaa';			
				document.querySelectorAll('li')[4].appendChild(a);
			}, 500);
			
			// 给所有的a元素绑定事件，但是后续动态创建的a无法绑定，因为绑定的时候他们还不存在
			var as = document.querySelectorAll('a');
			as.forEach(function(a) {
				a.onclick = function() {
					console.log(this.innerHTML);
				};
			});
			
			
		</script>
	</body>
</html>
